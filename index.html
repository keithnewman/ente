<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <meta name="robots" content="noindex,nofollow">
        <meta name="description" content="Is that a duck?">
        <title>Ist das eine Ente?</title>
        <link href="css/reset.css" rel="stylesheet" type="text/css">
        <link href="css/style.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="css/animate.min.css" type="text/css">
        <link rel="icon" type="image/svg+xml" href="svg/1f986.svg">
        <!--[if lt IE 9]>" | safeHTML }}
                <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
                <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        {{ "<![endif]-->
    </head>
    <body>
        <section id="about" class="hidden transparent">
            <div class="container">
                <h1>Ist das eine Ente?</h1>
                <p>That's German for "Is that a duck?"</p>
                <p>We'll show you something and tell you if it's a duck or not.  In German.</p>
                <p><em>Das ist eine Ente</em> = That is a duck</p>
                <p><em>Das ist keine Ente</em> = That is not a duck</p>
                <h2>Credits</h2>
                <ul>
                    <li>Clarissa Barratt for first showing me the phrase "Das ist keine Ente" which she encountered on Duolingo, which became the basis of a long-running joke.</li>
                    <li>Emoji provided by <a href="https://twemoji.twitter.com/" target="_blank">twemoji</a>.</li>
                    <li>Animations provided by <a href="https://daneden.me/" target="_blank">Dan Eden<a/>'s <a href="https://daneden.github.io/animate.css/" target="_blank">animate.css</a>.</li>
                </ul>
                <p>Made by <a href="http://keithnewman.co.uk" target="_blank">Keith Newman</a></p>
                <button id="close">Look for ducks &gt;</button>
            </div>
        </section>
        <section id="ente">
            <img id="icon" class="animated">
            <p id="statement" class="hiddenObject"></p>
            <button id="btn">Try something else &gt;</button>
            <p id="aboutlink">About</p>
        </section>
        <script>
            var icon = document.getElementById("icon");
            var statement = document.getElementById("statement");
            var btn = document.getElementById("btn");

            // Possible icons and their unicode refs
            var objects = {
                duck: '1f986', // #0
                frog: '1f438', // #1
                cow: '1f404',
                wolf: '1f43a',
                poop: '1f4a9',
                pig: '1f437',
                crocodile: '1f40a',
                dog2: '1f415',
                goat: '1f410',
                snail: '1f40c',
                mushroom: '1f344',
                alien: '1f47d',
                fire: '1f525',
                banana: '1f34c',
                rocket: '1f680',
                cherries: '1f352',
                guitar: '1f3b8' // #16
            };
            var objectKeys = Object.keys(objects);
            var objectLength = objectKeys.length;

            // Change the current icon shown
            function loadNext() {
                var i = Math.floor(Math.random() * objectLength);
                objectName = objectKeys[i];
                var objectCode = objects[objectName];
                icon.src = "svg/" + objectCode + ".svg";
                icon.alt = objectName;
                var textToDisplay = "";
                if (i) {
                    textToDisplay = "Das ist keine Ente!";
                } else {
                    textToDisplay = "Das ist eine Ente!";
                }
                icon.title = textToDisplay;
                icon.className = "animated bounceInRight";
                statement.innerText = textToDisplay;
                window.setTimeout(function(){
                    statement.className = "animated fadeIn";
                }, 1000);
            }

            // animate current stuff out of page, then load in new icon
            function changeToNext() {
                icon.className = "animated bounceOutLeft";
                statement.className = "animated fadeOut";
                window.setTimeout(loadNext, 1000);
            }
            btn.addEventListener("click", changeToNext);

            // Load something initially for the page
            loadNext();

            // Link for the about button
            var about = document.getElementById("about");
            var aboutLink = document.getElementById("aboutlink");
            var close = document.getElementById("close");
            aboutLink.addEventListener("click", function() {
                about.className = "transparent";
                window.setTimeout(function(){about.className = ""}, 150);
            });
            close.addEventListener("click", function() {
                about.className = "transparent";
                window.setTimeout(function(){about.className += " hidden"}, 700);
            });
        </script>
    </body>
</html>
